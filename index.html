<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.8.0">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    

    <!--Author-->
    
        <meta name="author" content="yunlongw">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Hexo">
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Hexo">

    <!--Type page-->
    
        <meta property="og:type" content="website">
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary">
    

    <!-- Title -->
    
    <title>Hexo</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about.html">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    Tags
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    Categories
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
            <h1 id="main-title" class="title">Hexo</h1>
        
    </div>
</header>

        <section class="main">
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/04/26/test/">
                test
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-04-26</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <p>sdafasdfasdfasdfasdf</p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/01/09/npm问题集锦/">
                npm问题集锦
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-01-09</span>
            
            
            
                <span class="category">
                    <a href="/categories/nodejs/">nodejs</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h1 id="error-01"><a href="#error-01" class="headerlink" title="error 01"></a>error 01</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue-template-compiler must be installed as a peer dependency, or a compatible compiler implementation must be passed via options.</span><br></pre></td></tr></table></figure>
<ul>
<li>方法一 ：检查 package.json 确认 vue 版本和 vue-template-compiler 是否一致, 修改为一致后执行 npm install</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;devDependencies&quot;: &#123;</span><br><span class="line">        &quot;vue&quot;: &quot;^2.5.21&quot;,</span><br><span class="line">        &quot;vue-template-compiler&quot;: &quot;^2.5.21&quot;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>方法二：重新安装</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-template-compiler -D</span><br></pre></td></tr></table></figure>
        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/01/09/hexo笔记/">
                hexo笔记
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-01-09</span>
            
            
            
                <span class="category">
                    <a href="/categories/js/">js</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h1 id="官网"><a href="#官网" class="headerlink" title="官网"></a>官网</h1><p><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/</a></p>
<h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br><span class="line">$ hexo new [layout] &lt;title&gt; //创建文章</span><br><span class="line">// 您可以在命令中指定文章的布局（layout），默认为 post，可以通过修改 _config.yml 中的 default_layout 参数来指定默认布局。</span><br><span class="line">$ hexo clean //清理</span><br><span class="line">$ hexo generate // 生成静态文件</span><br><span class="line">$ hexo server //创建 http://localhost:4000 本地服务器</span><br><span class="line">$ hexo clean &amp;&amp; hexo deploy //清理后发布</span><br></pre></td></tr></table></figure>
<h1 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h1><p>关于在 windows 下不能 deploy 的问题<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">admin:</span><br><span class="line">  username: 看不见</span><br><span class="line">  password_hash: 看不见</span><br><span class="line">  secret: 看不见</span><br><span class="line">  deployCommand: &apos;sh hexo-deploy.sh&apos;</span><br><span class="line">http://inmyai.com/2018/05/01/Hexo-Admin-</span><br></pre></td></tr></table></figure></p>
<p><a href="http://inmyai.com/2018/05/01/Hexo-Admin-Deploy%E6%AD%A3%E7%A1%AE%E6%89%93%E5%BC%80%E6%96%B9%E5%BC%8F/" target="_blank" rel="noopener">http://inmyai.com/2018/05/01/Hexo-Admin-Deploy%E6%AD%A3%E7%A1%AE%E6%89%93%E5%BC%80%E6%96%B9%E5%BC%8F/</a></p>
<p>关于在 centos 下不能 deploy 的问题</p>
<p>修改 _config.yml<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">admin:</span><br><span class="line">  username: yunlongw</span><br><span class="line">  password_hash: $2a$10$J/7hs7S1IsfRFD3fJTQMPeEUnoxQL.XObUMX5L8DFkO3rWcsrKKgO</span><br><span class="line">  secret: dsafwqr@!#435fewrqw</span><br><span class="line">  deployCommand: &apos;./hexo-deploy.sh&apos;</span><br></pre></td></tr></table></figure></p>
<p>生成脚本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch hexo-deploy.sh</span><br><span class="line">chmod a+x hexo-deploy.sh</span><br></pre></td></tr></table></figure>
<h1 id="主题"><a href="#主题" class="headerlink" title="主题"></a>主题</h1><p><a href="https://hexo.io/themes/" target="_blank" rel="noopener">https://hexo.io/themes/</a></p>
<h1 id="关于搭建"><a href="#关于搭建" class="headerlink" title="关于搭建"></a>关于搭建</h1><p><a href="https://juejin.im/post/5b38be1a6fb9a00e7b5b2884" target="_blank" rel="noopener">https://juejin.im/post/5b38be1a6fb9a00e7b5b2884</a><br><a href="https://peithon.github.io/2018/05/16/blog-setup/" target="_blank" rel="noopener">https://peithon.github.io/2018/05/16/blog-setup/</a></p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/01/09/laradock笔记/">
                laradock笔记
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-01-09</span>
            
            
            
                <span class="category">
                    <a href="/categories/docker/">docker</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h1 id="官网"><a href="#官网" class="headerlink" title="官网"></a>官网</h1><p><a href="https://laradock.io/" target="_blank" rel="noopener">https://laradock.io/</a></p>
<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>Docker的完整PHP开发环境。<br>包括预先打包的Docker镜像，所有这些都经过预先配置，可提供出色的PHP开发环境。<br>Laradock在Laravel社区中是众所周知的，因为该项目始于专注于在Docker上运行Laravel项目。<br>后来由于PHP社区的大量采用，它开始支持其他PHP项目，如Symfony，CodeIgniter，WordPress，Drupal ……</p>
<h1 id="概念："><a href="#概念：" class="headerlink" title="概念："></a>概念：</h1><p>workspace 工作空间<br>多个项目可以放在同一个工作空间下<br>workspace 自身也是一个容器，当做一个工具容器来看待<br>workspace 容器中包含很多工具，比如 composer<br>workspace 作用域是整个根目录 /var/www ， php-fpm nginx 等的作用域是自身 /var/www/nginx</p>
<p>#快速开始：<br><a href="https://laradock.io/getting-started/" target="_blank" rel="noopener">https://laradock.io/getting-started/</a>  入门文档，推荐先看一遍</p>
<p>将项目部署到 /var/www/ 根目录下，和其它项目同级，目的是为了让 nginx 的根目录指向在此，类似 localhost 的根目录</p>
<h1 id="clone"><a href="#clone" class="headerlink" title="clone"></a>clone</h1><p>git clone <a href="https://github.com/Laradock/laradock.git" target="_blank" rel="noopener">https://github.com/Laradock/laradock.git</a></p>
<h1 id="创建配置文件"><a href="#创建配置文件" class="headerlink" title="创建配置文件"></a>创建配置文件</h1><p>cp env-example .env</p>
<h1 id="修改-env-，初始化安装"><a href="#修改-env-，初始化安装" class="headerlink" title="修改 .env ，初始化安装"></a>修改 .env ，初始化安装</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">### WORKSPACE #############################################</span><br><span class="line">WORKSPACE_COMPOSER_GLOBAL_INSTALL=true</span><br><span class="line">WORKSPACE_COMPOSER_REPO_PACKAGIST=</span><br><span class="line">WORKSPACE_INSTALL_NODE=true</span><br><span class="line">WORKSPACE_NODE_VERSION=node</span><br><span class="line">WORKSPACE_NPM_REGISTRY=</span><br><span class="line">WORKSPACE_INSTALL_YARN=true</span><br><span class="line">WORKSPACE_YARN_VERSION=latest</span><br><span class="line">WORKSPACE_INSTALL_NPM_GULP=true</span><br><span class="line">WORKSPACE_INSTALL_NPM_BOWER=false</span><br><span class="line">WORKSPACE_INSTALL_NPM_VUE_CLI=true</span><br><span class="line">WORKSPACE_INSTALL_PHPREDIS=true //</span><br><span class="line">WORKSPACE_INSTALL_WORKSPACE_SSH=false</span><br><span class="line">WORKSPACE_INSTALL_SUBVERSION=false</span><br><span class="line">WORKSPACE_INSTALL_XDEBUG=false</span><br><span class="line">WORKSPACE_INSTALL_PHPDBG=false</span><br><span class="line">WORKSPACE_INSTALL_SSH2=false</span><br><span class="line">WORKSPACE_INSTALL_LDAP=false</span><br><span class="line">WORKSPACE_INSTALL_GMP=false</span><br><span class="line">WORKSPACE_INSTALL_SOAP=false</span><br><span class="line">WORKSPACE_INSTALL_IMAP=false</span><br><span class="line">WORKSPACE_INSTALL_MONGO=true // true</span><br><span class="line">WORKSPACE_INSTALL_AMQP=false</span><br><span class="line">WORKSPACE_INSTALL_MSSQL=false</span><br><span class="line">WORKSPACE_INSTALL_DRUSH=false</span><br><span class="line">WORKSPACE_DRUSH_VERSION=8.1.17</span><br><span class="line">WORKSPACE_INSTALL_DRUPAL_CONSOLE=false</span><br><span class="line">WORKSPACE_INSTALL_AEROSPIKE=false</span><br><span class="line">WORKSPACE_INSTALL_V8JS=false</span><br><span class="line">WORKSPACE_INSTALL_LARAVEL_ENVOY=false</span><br><span class="line">WORKSPACE_INSTALL_LARAVEL_INSTALLER=false</span><br><span class="line">WORKSPACE_INSTALL_DEPLOYER=false</span><br><span class="line">WORKSPACE_INSTALL_PRESTISSIMO=false</span><br><span class="line">WORKSPACE_INSTALL_LINUXBREW=false</span><br><span class="line">WORKSPACE_INSTALL_MC=false</span><br><span class="line">WORKSPACE_INSTALL_SYMFONY=false</span><br><span class="line">WORKSPACE_INSTALL_PYTHON=false</span><br><span class="line">WORKSPACE_INSTALL_IMAGE_OPTIMIZERS=false</span><br><span class="line">WORKSPACE_INSTALL_IMAGEMAGICK=false</span><br><span class="line">WORKSPACE_INSTALL_TERRAFORM=false</span><br><span class="line">WORKSPACE_INSTALL_DUSK_DEPS=false</span><br><span class="line">WORKSPACE_INSTALL_PG_CLIENT=false</span><br><span class="line">WORKSPACE_INSTALL_PHALCON=false</span><br><span class="line">WORKSPACE_INSTALL_SWOOLE=true //</span><br><span class="line">WORKSPACE_INSTALL_LIBPNG=false</span><br><span class="line">WORKSPACE_INSTALL_IONCUBE=false</span><br><span class="line">WORKSPACE_INSTALL_MYSQL_CLIENT=false</span><br><span class="line">WORKSPACE_PUID=1000</span><br><span class="line">WORKSPACE_PGID=1000</span><br><span class="line">WORKSPACE_CHROME_DRIVER_VERSION=2.42</span><br><span class="line">WORKSPACE_TIMEZONE=UTC</span><br><span class="line">WORKSPACE_SSH_PORT=2222</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### PHP_FPM ###############################################</span><br><span class="line">PHP_FPM_INSTALL_ZIP_ARCHIVE=true</span><br><span class="line">PHP_FPM_INSTALL_BCMATH=true</span><br><span class="line">PHP_FPM_INSTALL_MYSQLI=true</span><br><span class="line">PHP_FPM_INSTALL_INTL=true</span><br><span class="line">PHP_FPM_INSTALL_IMAGEMAGICK=true</span><br><span class="line">PHP_FPM_INSTALL_OPCACHE=true</span><br><span class="line">PHP_FPM_INSTALL_IMAGE_OPTIMIZERS=true</span><br><span class="line">PHP_FPM_INSTALL_PHPREDIS=true //</span><br><span class="line">PHP_FPM_INSTALL_MEMCACHED=false</span><br><span class="line">PHP_FPM_INSTALL_XDEBUG=false</span><br><span class="line">PHP_FPM_INSTALL_PHPDBG=false</span><br><span class="line">PHP_FPM_INSTALL_IMAP=false</span><br><span class="line">PHP_FPM_INSTALL_MONGO=false //</span><br><span class="line">PHP_FPM_INSTALL_AMQP=false</span><br><span class="line">PHP_FPM_INSTALL_MSSQL=false</span><br><span class="line">PHP_FPM_INSTALL_SSH2=false</span><br><span class="line">PHP_FPM_INSTALL_SOAP=false</span><br><span class="line">PHP_FPM_INSTALL_GMP=false</span><br><span class="line">PHP_FPM_INSTALL_EXIF=false</span><br><span class="line">PHP_FPM_INSTALL_AEROSPIKE=false</span><br><span class="line">PHP_FPM_INSTALL_PGSQL=false</span><br><span class="line">PHP_FPM_INSTALL_GHOSTSCRIPT=false</span><br><span class="line">PHP_FPM_INSTALL_LDAP=false</span><br><span class="line">PHP_FPM_INSTALL_PHALCON=false</span><br><span class="line">PHP_FPM_INSTALL_SWOOLE=true //</span><br><span class="line">PHP_FPM_INSTALL_PG_CLIENT=false</span><br><span class="line">PHP_FPM_INSTALL_PCNTL=false</span><br><span class="line">PHP_FPM_INSTALL_CALENDAR=false</span><br><span class="line">PHP_FPM_INSTALL_FAKETIME=false</span><br><span class="line">PHP_FPM_INSTALL_IONCUBE=false</span><br><span class="line">PHP_FPM_FAKETIME=-0</span><br><span class="line">PHP_FPM_INSTALL_YAML=false</span><br></pre></td></tr></table></figure>
<h1 id="创建环境"><a href="#创建环境" class="headerlink" title="创建环境"></a>创建环境</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d nginx mysql phpmyadmin redis workspace</span><br></pre></td></tr></table></figure>
<h1 id="进入容器"><a href="#进入容器" class="headerlink" title="进入容器"></a>进入容器</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker-compose exec workspace bash</span><br><span class="line">docker-compose exec php-fpm bash</span><br><span class="line">docker-compose exec nginx bash</span><br></pre></td></tr></table></figure>
<h1 id="扩展安装"><a href="#扩展安装" class="headerlink" title="扩展安装"></a>扩展安装</h1><p>注意：php 扩展是安装在 php-fpm 这个镜像中，大多数扩展可以通过编译 Dockerfile 实现，部分扩展安装有问题的，需要进入 php-fpm 进行安装<br>修改 Dockerfile ，开启对应的配置 (/php-fpm/Dockerfile)</p>
<p>###########################################################################</p>
<h1 id="Swoole-EXTENSION"><a href="#Swoole-EXTENSION" class="headerlink" title="Swoole EXTENSION"></a>Swoole EXTENSION</h1><p>###########################################################################</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ARG INSTALL_SWOOLE=true  ##### 修改配置变量即可</span><br><span class="line"></span><br><span class="line">RUN if [ $&#123;INSTALL_SWOOLE&#125; = true ]; then \</span><br><span class="line">    # Install Php Swoole Extension</span><br><span class="line">    if [ $(php -r &quot;echo PHP_MAJOR_VERSION;&quot;) = &quot;5&quot; ]; then \</span><br><span class="line">      pecl install swoole-2.0.11; \</span><br><span class="line">    else \</span><br><span class="line">      if [ $(php -r &quot;echo PHP_MINOR_VERSION;&quot;) = &quot;0&quot; ]; then \</span><br><span class="line">        pecl install swoole-2.2.0; \</span><br><span class="line">      else \</span><br><span class="line">        pecl install swoole; \</span><br><span class="line">      fi \</span><br><span class="line">    fi &amp;&amp; \</span><br><span class="line">    docker-php-ext-enable swoole \</span><br><span class="line">;fi</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker-compose build php-fpm //编译 </span><br><span class="line">docker-compose restart php-fpm //重启</span><br></pre></td></tr></table></figure>
<p>手动编译：<br>将解压后的扩展包复制到项目中<br>docker cp redis php-fpm(name):/usr/src/php/ext/redis</p>
<p>进入容器执行编译操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ phpize</span><br><span class="line">$ configure</span><br><span class="line">$ make &amp;&amp; make install</span><br></pre></td></tr></table></figure></p>
<h1 id="amqp"><a href="#amqp" class="headerlink" title="amqp"></a>amqp</h1><p>这里可能有个问题就是 apt-get 不是最新的 ，添加一个参数 apt-get update<br>如果编译失败，可手动执行以下命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ARG INSTALL_AMQP=true</span><br><span class="line"></span><br><span class="line">RUN if [ $&#123;INSTALL_AMQP&#125; = true ]; then \</span><br><span class="line">    apt-get update &amp;&amp; \ </span><br><span class="line">    apt-get install librabbitmq-dev -y &amp;&amp; \</span><br><span class="line">    pecl -q install amqp &amp;&amp; \</span><br><span class="line">    echo &quot;extension=amqp.so&quot; &gt;&gt; /etc/php/$&#123;LARADOCK_PHP_VERSION&#125;/mods-available/amqp.ini &amp;&amp; \</span><br><span class="line">    ln -s /etc/php/$&#123;LARADOCK_PHP_VERSION&#125;/mods-available/amqp.ini /etc/php/$&#123;LARADOCK_PHP_VERSION&#125;/cli/conf.d/30-amqp.ini \</span><br><span class="line">;f</span><br></pre></td></tr></table></figure></p>
<h1 id="nginx-配置"><a href="#nginx-配置" class="headerlink" title="nginx 配置"></a>nginx 配置</h1><p>nginx 配置目录 \WWW\laradock\nginx\sites*<br>root /var/www/project_name/public;</p>
<p>注意这个路径 ， /var/www 指向的是物理机 /www 目录， 这里的路径不能配置为物理机的地址，比如 D:\www</p>
<h1 id="常用命令："><a href="#常用命令：" class="headerlink" title="常用命令："></a>常用命令：</h1><p><a href="https://laradock.io/documentation/#list-current-running-containers" target="_blank" rel="noopener">https://laradock.io/documentation/#list-current-running-containers</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker-compose restart/stop/start php-fpm   //容器操作</span><br><span class="line">docker-compose build php-fpm  //构建容器</span><br><span class="line">docker-compose exec php-fpm bash  //进入容器</span><br><span class="line">docker-compose up -d nginx mysql //自动化部署</span><br></pre></td></tr></table></figure></p>
<h1 id="构建容器"><a href="#构建容器" class="headerlink" title="构建容器"></a>构建容器</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker-compose build &#123;container-name&#125; // 构建容器</span><br><span class="line">$ docker-compose build --no-cache &#123;container-name&#125;  // 完全重建</span><br></pre></td></tr></table></figure>
<h1 id="workspace-工作空间"><a href="#workspace-工作空间" class="headerlink" title="workspace 工作空间"></a>workspace 工作空间</h1><h2 id="composer-操作"><a href="#composer-操作" class="headerlink" title="composer 操作"></a>composer 操作</h2><h1 id="进入空间"><a href="#进入空间" class="headerlink" title="进入空间"></a>进入空间</h1><p>$ docker-compose exec workspace bash<br>执行 composer update 命令<br>$ composer update<br>$ git 操作也可以在这里进行，工作空间里包含 git 的扩展安装</p>
<h1 id="项目配置"><a href="#项目配置" class="headerlink" title="项目配置"></a>项目配置</h1><p>项目中 .env 配置数据库地址（内部通信）<br>DB_HOST=mysql<br>REDIS_HOST=redis</p>
<p>数据库外部链接依然是 3306 和 6379</p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/01/09/helloworld/">
                hello world
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-01-09</span>
            
            
            
                <span class="category">
                    <a href="/categories/杂谈/">杂谈</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p>hello world!</p>

        </div>
    

</div>
            
        </section>
    </div>
</div>






</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    This theme was developed by <a href="https://github.com/klugjo">Jonathan Klughertz</a>. The source code is available on Github. Create Websites. Make Magic.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2019/04/26/test/">test</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/01/09/npm问题集锦/">npm问题集锦</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/01/09/hexo笔记/">hexo笔记</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/01/09/laradock笔记/">laradock笔记</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/杂谈/">杂谈</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/js/">js</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/docker/">docker</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/nodejs/">nodejs</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"right","width":300,"height":600},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body>

</html>